<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Categories | goatwu1993</title>
    <link>https://goatwu1993.github.io/blog/posts/</link>
      <atom:link href="https://goatwu1993.github.io/blog/posts/index.xml" rel="self" type="application/rss+xml" />
    <description>Categories</description>
    <generator>Source Themes Academic (https://sourcethemes.com/academic/)</generator><language>en-us</language><lastBuildDate>Wed, 22 Jan 2020 00:00:00 +0000</lastBuildDate>
    <image>
      <url>img/map[gravatar:%!s(bool=false) shape:circle]</url>
      <title>Categories</title>
      <link>https://goatwu1993.github.io/blog/posts/</link>
    </image>
    
    <item>
      <title>Apache Kafka - hands-on (1 broker)</title>
      <link>https://goatwu1993.github.io/blog/posts/apache-kafka/kafka-3/</link>
      <pubDate>Wed, 22 Jan 2020 00:00:00 +0000</pubDate>
      <guid>https://goatwu1993.github.io/blog/posts/apache-kafka/kafka-3/</guid>
      <description>&lt;h2 id=&#34;install-kafka&#34;&gt;Install Kafka&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;# this will install java 1.8, zookeeper, and kafka
brew install kafka
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;æª”æ¡ˆä½ç½®&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;/usr/local/etc/kafka&lt;/li&gt;
&lt;li&gt;/usr/local/Cellar/kafka/$ç‰ˆè™Ÿ&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;cd /usr/local/Cellar/kafka/*
# å•Ÿå‹•zookeeper
./bin/zookeeper-server-start /usr/local/etc/kafka/zookeeper.properties
# å•Ÿå‹•kafka
./bin/kafka-server-start /usr/local/etc/kafka/server.properties
# å»ºä¸€å€‹åç‚º test-kafka çš„ Topic
./bin/kafka-topics --create --zookeeper localhost:2181 --replication-factor 1 --partitions 1 --topic test-kafka

# æŸ¥çœ‹ç›®å‰å·²ç¶“å»ºç«‹éçš„ Topic
./bin/kafka-topics --list --zookeeper localhost:2181\n\n
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;å•Ÿå‹•-zookeeper--kafka&#34;&gt;å•Ÿå‹• zookeeper &amp;amp; kafka&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;brew services start zookeeper
brew services start kafka
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;consumer--producer-api-é¸æ“‡&#34;&gt;Consumer &amp;amp; Producer API é¸æ“‡&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Shell script&lt;br&gt;
ä½¿ç”¨ brew kafka æä¾›çš„ shell script&lt;/li&gt;
&lt;li&gt;Python
&lt;ul&gt;
&lt;li&gt;pykafka&lt;/li&gt;
&lt;li&gt;kafka-python&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Scala
&lt;ul&gt;
&lt;li&gt;Scala-Shell&lt;/li&gt;
&lt;li&gt;Native-App&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;shell-script&#34;&gt;Shell Script&lt;/h2&gt;
&lt;p&gt;é–‹å•Ÿå…©å€‹å‘½ä»¤åˆ—&lt;/p&gt;
&lt;p&gt;console1&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;kafka-console-producer --broker-list localhost:9092 --topic test-kafka
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;console2&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;kafka-console-consumer --bootstrap-server localhost:9092 --topic test-kafka --from-beginning
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;æ‡‰è©²è¦èƒ½çœ‹åˆ° console1 çš„è¼¸å…¥&lt;/p&gt;
&lt;h2 id=&#34;references&#34;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://oumuv.github.io/2018/12/06/kafka-2/&#34;&gt;https://oumuv.github.io/2018/12/06/kafka-2/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://blog.v123582.tw/2019/03/27/%E5%9C%A8-mac-%E4%B8%8A%E5%BB%BA%E7%AB%8B-Python-%E7%9A%84-Kafka-%E8%88%87-Spark-%E7%92%B0%E5%A2%83/&#34;&gt;https://blog.v123582.tw/2019/03/27/åœ¨-mac-ä¸Šå»ºç«‹-Python-çš„-Kafka-èˆ‡-Spark-ç’°å¢ƒ/&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
    <item>
      <title>Apache Kafka - hands-on (3 brokers)</title>
      <link>https://goatwu1993.github.io/blog/posts/apache-kafka/kafka-4/</link>
      <pubDate>Wed, 22 Jan 2020 00:00:00 +0000</pubDate>
      <guid>https://goatwu1993.github.io/blog/posts/apache-kafka/kafka-4/</guid>
      <description>&lt;h2 id=&#34;prerequisite&#34;&gt;Prerequisite&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;# this will install java 1.8, zookeeper, and kafka
brew install kafka
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;å•Ÿå‹•-zookeeper&#34;&gt;å•Ÿå‹• zookeeper&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;brew services start zookeeper
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;é–‹å•Ÿä¸‰å€‹-brokers&#34;&gt;é–‹å•Ÿä¸‰å€‹ Brokers&lt;/h2&gt;
&lt;p&gt;åˆ†åˆ«ä¿®æ”¹ server1.propertiesã€server2.properties&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th align=&#34;center&#34;&gt;ä¿®æ”¹ä½ç½®&lt;/th&gt;
&lt;th&gt;server.properties&lt;/th&gt;
&lt;th&gt;server1.properties&lt;/th&gt;
&lt;th&gt;server2.properties&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td align=&#34;center&#34;&gt;broker.id&lt;/td&gt;
&lt;td&gt;broker.id=0&lt;/td&gt;
&lt;td&gt;broker.id=1&lt;/td&gt;
&lt;td&gt;broker.id=2&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&#34;center&#34;&gt;listeners&lt;/td&gt;
&lt;td&gt;listeners=PLAINTEXT://:9092&lt;/td&gt;
&lt;td&gt;listeners=PLAINTEXT://:9093&lt;/td&gt;
&lt;td&gt;listeners=PLAINTEXT://:9094&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&#34;center&#34;&gt;log.dir&lt;/td&gt;
&lt;td&gt;log.dir=/usr/local/var/lib/kafka-logs-0&lt;/td&gt;
&lt;td&gt;log.dir=/usr/local/var/lib/kafka-logs-1&lt;/td&gt;
&lt;td&gt;log.dir=/usr/local/var/lib/kafka-logs-2&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;kafka-server-start /usr/local/etc/kafka/server.properties &amp;amp;
kafka-server-start /usr/local/etc/kafka/server1.properties &amp;amp;
kafka-server-start /usr/local/etc/kafka/server2.properties &amp;amp;
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;é–‹å•Ÿä¸€å€‹å…©å€‹å‰¯æœ¬çš„-topic&#34;&gt;é–‹å•Ÿä¸€å€‹å…©å€‹å‰¯æœ¬çš„ Topic&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;kafka-topics â€“create â€“zookeeper localhost:2181 â€“replication-factor 3 â€“partitions 1 â€“topic mytopic
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;consumer--producer-api-é¸æ“‡&#34;&gt;Consumer &amp;amp; Producer API é¸æ“‡&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Shell script&lt;br&gt;
ä½¿ç”¨ brew kafka æä¾›çš„ shell script&lt;/li&gt;
&lt;li&gt;Python
&lt;ul&gt;
&lt;li&gt;pykafka&lt;/li&gt;
&lt;li&gt;kafka-python&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Scala
&lt;ul&gt;
&lt;li&gt;Scala-Shell&lt;/li&gt;
&lt;li&gt;Native-App&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;1-shell-script&#34;&gt;1. Shell Script&lt;/h2&gt;
&lt;p&gt;é–‹å•Ÿå…©å€‹å‘½ä»¤åˆ—&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;./bin/kafka-console-producer --broker-list localhost:9092 --topic test-kafka
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;./bin/kafka-console-consumer --bootstrap-server localhost:9092 --topic test-kafka --from-beginning
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;heading&#34;&gt;&lt;/h2&gt;
&lt;h2 id=&#34;references&#34;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://oumuv.github.io/2018/12/06/kafka-2/&#34;&gt;https://oumuv.github.io/2018/12/06/kafka-2/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://blog.v123582.tw/2019/03/27/%E5%9C%A8-mac-%E4%B8%8A%E5%BB%BA%E7%AB%8B-Python-%E7%9A%84-Kafka-%E8%88%87-Spark-%E7%92%B0%E5%A2%83/&#34;&gt;https://blog.v123582.tw/2019/03/27/åœ¨-mac-ä¸Šå»ºç«‹-Python-çš„-Kafka-èˆ‡-Spark-ç’°å¢ƒ/&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
    <item>
      <title>Apache Kafka - Part1</title>
      <link>https://goatwu1993.github.io/blog/posts/apache-kafka/kafka-p1/</link>
      <pubDate>Thu, 09 Jan 2020 19:53:34 +0800</pubDate>
      <guid>https://goatwu1993.github.io/blog/posts/apache-kafka/kafka-p1/</guid>
      <description>&lt;h2 id=&#34;what-is-kafka&#34;&gt;What is Kafka&lt;/h2&gt;
&lt;p&gt;Kafka æ˜¯ä¸€å€‹åˆ†æ•£å¼çš„è¨Šæ¯è™•ç†å¹³å°(message/stream processing platform)ï¼Œä»²ä»‹è™•ç†ç«¯åˆ°ç«¯çš„å¯¦æ™‚è¨Šæ¯å‚³è¼¸ã€‚&lt;/p&gt;
&lt;h2 id=&#34;kafka-ç‰¹é»&#34;&gt;Kafka ç‰¹é»&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;åˆ†æ•£å¼&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æä¾› pub-sub åŠ point-to-point å…©ç¨® queue mode&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä½¿ç”¨å„ªåŒ–éçš„ binary TCP-based protocolï¼Œå¤šæ¢è¨Šæ¯æœƒå…ˆå¯«å…¥è¨˜æ†¶é«”ç·©è¡ä¸­å­˜æˆ Batch ä¸€åŒå‚³è¼¸ï¼Œæ¸›å°‘ç¶²è·¯å°åŒ…çš„ Overhead&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å°è³‡æ–™çš„åŒ…è£&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è¼•é‡ç´š&lt;/li&gt;
&lt;li&gt;å¯å£“ç¸®&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;é¿å…ç‰©ä»¶åŒ…è¦†ï¼Œç›´æ¥ä»¥æª”æ¡ˆçš„å‹å¼ä¾†è™•ç†è³‡æ–™&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä½¿ç”¨ OS çš„ page cacheï¼Œä¸éœ€è¦é¡å¤– Applicaion Cache ï¼Œçˆ­å–çè²´çš„è¨˜æ†¶é«”ç©ºé–“&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;kafka-å„ªé»&#34;&gt;Kafka å„ªé»&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Reliability å¯é &lt;/li&gt;
&lt;li&gt;Scalability å¯æ“´å±•&lt;/li&gt;
&lt;li&gt;Durability è€ç”¨æ€§&lt;/li&gt;
&lt;li&gt;Performance&lt;/li&gt;
&lt;li&gt;Fault Tolerance å®¹éŒ¯æ©Ÿåˆ¶&lt;/li&gt;
&lt;li&gt;Zero downtime&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è©³ç´°åŸå› è¦å…ˆäº†è§£ Kafka æ¶æ§‹&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Apache Kafka - Part2</title>
      <link>https://goatwu1993.github.io/blog/posts/apache-kafka/kafka-2/</link>
      <pubDate>Thu, 09 Jan 2020 19:53:34 +0800</pubDate>
      <guid>https://goatwu1993.github.io/blog/posts/apache-kafka/kafka-2/</guid>
      <description>&lt;h2 id=&#34;kafka-architecture&#34;&gt;Kafka Architecture&lt;/h2&gt;
&lt;p&gt;&lt;img src=&#34;https://upload.wikimedia.org/wikipedia/commons/thumb/6/64/Overview_of_Apache_Kafka.svg/1920px-Overview_of_Apache_Kafka.svg.png&#34; alt=&#34;This is an image&#34;&gt;
Picture from wiki&lt;/p&gt;
&lt;h2 id=&#34;producers&#34;&gt;Producers&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;è² è²¬å°‡è¨Šæ¯ push åˆ° Brokersï¼Œè¨Šæ¯éœ€è¦æŒ‡å®š Topics&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¯¦ä½œ Kafka æä¾›çš„ Producer API&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;consumers&#34;&gt;Consumers&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;åœ¨è¨‚é–± Topics ä¹‹å¾Œï¼Œå¾ Brokers pull è¨Šæ¯&lt;/li&gt;
&lt;li&gt;å¯¦ä½œ Kafka æä¾›çš„ Consumer API&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;consumer-group&#34;&gt;Consumer Group&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;æ¯å€‹ Consumer å±¬æ–¼ä¸€å€‹ç‰¹å®šçš„ Consumer Group&lt;/li&gt;
&lt;li&gt;è¨Šæ¯å¯ä»¥ç™¼é€åˆ°å¤šå€‹ä¸åŒçš„ Consumer Groupï¼Œä½†åªæœƒæœ‰ä¸€å€‹ Consumer æ¶ˆåŒ–è©²è¨Šæ¯&lt;/li&gt;
&lt;li&gt;Consumer Group è£¡é¢æ¯å€‹ Consumer å°æ‡‰åˆ°ä¸€å€‹ partitionï¼Œå› æ­¤ Consumer æ•¸ç›®å°æ–¼ partition æ•¸ç›®ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;brokers&#34;&gt;Brokers&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Kafka çš„ç¯€é»å«åš Broker&lt;/li&gt;
&lt;li&gt;ä»²ä»‹è™•ç† Consumer ä»¥åŠ Producers çš„è¨Šæ¯
&lt;ul&gt;
&lt;li&gt;ç™¼é€è¨Šæ¯éœ€è¦æŒ‡å®š Topic&lt;/li&gt;
&lt;li&gt;Topic è¢«åˆ†ç‚ºå¤šå€‹ Partition&lt;/li&gt;
&lt;li&gt;Partition æœƒæœ‰å¤šå€‹ Replica&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;broker-controller&#34;&gt;Broker controller&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;å…¶ä¸­ä¸€å€‹ Broker æœƒè¢«æ¨é¸ç‚º Controller&lt;/li&gt;
&lt;li&gt;è² è²¬åµæ¸¬ Broker ç´šåˆ¥çš„ Failureï¼Œå¹«å¿™æ‰€æœ‰å—å½±éŸ¿çš„ Partition æ›´æ› Partition Leader&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;message&#34;&gt;Message&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Kafka çš„è¨Šæ¯ç‚ºéµå€¼å°ï¼Œä½¿ç”¨éµå€¼å°çš„é›²éŸ³æ˜¯å¯ä»¥æä¾› Key ä¸¦å¿«é€ŸæŸ¥è©¢è¨Šæ¯åœ¨å“ªå€‹ Partitionã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;topics&#34;&gt;Topics&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;h3 id=&#34;topics-å®šç¾©&#34;&gt;Topics å®šç¾©&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Topics ç‚ºè¨Šæ¯çš„æŠ½è±¡åˆ†é¡&lt;/li&gt;
&lt;li&gt;Producers ç™¼é€è¨Šæ¯æ™‚ï¼ŒæœƒæŒ‡å®šä¸€è‡³å¤šå€‹ Topics&lt;/li&gt;
&lt;li&gt;Consumers è¨‚é–±ä¸€æˆ–å¤šå€‹ Topics&lt;/li&gt;
&lt;li&gt;ä¸€å€‹ Topic åˆ‡æˆ 1~n å€‹ Partitionsï¼Œç¨±ç‚º replication-factor&lt;/li&gt;
&lt;li&gt;Topics åˆ†ç‚º Regular Topics åŠ Compacted topics&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;h3 id=&#34;regular-topics&#34;&gt;Regular Topics&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;è¨­å®š retention timeï¼Œè¶…éå‰‡ Kafka å¯åˆªé™¤è³‡æ–™ä»¥é‡‹å‡ºç¡¬ç¢Ÿç©ºé–“&lt;/li&gt;
&lt;li&gt;Default ç•™å­˜æ™‚é–“ç‚º 7 å¤©&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;h3 id=&#34;compacted-topics&#34;&gt;Compacted Topics&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;æ²’æœ‰æœ‰æ•ˆæœŸé™&lt;/li&gt;
&lt;li&gt;è‹¥ Key é‡è¤‡ï¼Œæ–°è¨Šæ¯æœƒè¦†è“‹èˆŠçš„è¨Šæ¯&lt;/li&gt;
&lt;li&gt;Producer å¯ç™¼é€å€¼ç‚º null çš„éµå€¼å°ä»¥æ°¸ä¹…åˆªé™¤è©²è³‡æ–™ï¼Œç¨±ä½œ tombstone message&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;partitions&#34;&gt;Partitions&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;h3 id=&#34;partitions-å®šç¾©&#34;&gt;Partitions å®šç¾©&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Partition æ˜¯ Queue æ¦‚å¿µçš„å¯¦ä½œï¼Œè¨Šæ¯æ ¹æ“š offset åš´æ ¼æ’åº&lt;/li&gt;
&lt;li&gt;Partition ç‰©ç†ä¸Šæ˜¯ç£ç¢Ÿçš„é€£çºŒå€åŸŸï¼Œæ–°è¨Šæ¯æœƒè¢« append åˆ° partition å°¾ç«¯ï¼Œä»¥ç¢ºä¿é«˜æ•ˆç‡&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;h3 id=&#34;partition-offset&#34;&gt;Partition offset&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Message åœ¨ partition è£¡é¢æœƒæœ‰å”¯ä¸€çš„ indexï¼Œç¨±ä½œ offset&lt;/li&gt;
&lt;li&gt;Offset ç‚º Long å‹æ…‹&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;h3 id=&#34;replica-å‰¯æœ¬&#34;&gt;Replica å‰¯æœ¬&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Partition ç”¢ç”Ÿ n å€‹å‰¯æœ¬ï¼Œåˆ†æ•£è‡³å„å€‹ Broker ä¸Šï¼Œn ç¨±ä½œ replication-factor&lt;/li&gt;
&lt;li&gt;åªè¦å„å€‹ Partition è‡³å°‘ä¸€å€‹åœ¨ç·šï¼Œå‰‡æœå‹™ä¸æœƒä¸­æ–·&lt;/li&gt;
&lt;li&gt;å¸¸å¸¸ä½¿ç”¨ 2 ~ 3&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;h3 id=&#34;partition-leader&#34;&gt;Partition Leader&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Broker Controller å°æ¯å€‹ Partition æŒ‡å®šä¸€å€‹ Leader&lt;/li&gt;
&lt;li&gt;Partition Leader è² è²¬æ¥æ”¶è³‡æ–™ï¼Œæ¥æ”¶ä¸¦å¯«å…¥å¾Œï¼Œå°‡è³‡æ–™ replicate åˆ°å…¨éƒ¨ replica/partition follower&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;h3 id=&#34;partition-follower&#34;&gt;Partition Follower&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;åŒä¸€ Partition çš„ non-leader replica&lt;/li&gt;
&lt;li&gt;æ¦‚å¿µä¸Šç‚ºåªè¿½éš¨æŸå€‹ partition çš„ Consumerï¼Œåª subscribe partition Leaderï¼Œç™¼ç¾æ›´æ–°æ™‚ pull åˆ°æœ¬åœ°ç«¯&lt;/li&gt;
&lt;li&gt;ç•¶ Partition Leader å¤±æ•ˆï¼ŒBroker Controller å¾ ISR ä¸­é¸å‡ºæ–° Leader&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;h3 id=&#34;isr&#34;&gt;ISR&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;ç•¶ Leader æ”¶åˆ°è¨Šæ¯æ™‚ï¼Œæ‰€æœ‰ Follower éƒ½éœ€è¦å¯«å…¥ï¼Œå·²ç¶“æ›´æ–°è‡³å’Œ Leader åŒæ­¥çš„ Followers ç¨±ç‚º ISRs(in-sync replica)&lt;/li&gt;
&lt;li&gt;Record åªæœ‰åœ¨å…¨éƒ¨çš„ ISR éƒ½åŒæ­¥æ™‚ï¼Œæ‰è¢«è¦–ç‚ºæˆåŠŸ Commited&lt;/li&gt;
&lt;li&gt;Consumer åªèƒ½å¾å·²ç¶“ Commit æˆåŠŸçš„ Record è®€å–ç´€éŒ„&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;kafka-cluster&#34;&gt;Kafka Cluster&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;n å€‹ Broker çµ„æˆ Cluster&lt;/li&gt;
&lt;li&gt;å¯ä»¥ zero downtime æ“´å±•&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;zookeeper&#34;&gt;ZooKeeper&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;ç®¡ç†å¢é›†é…ç½®&lt;/li&gt;
&lt;li&gt;è² è²¬ç®¡ç†åŠå”èª¿ Broker&lt;/li&gt;
&lt;li&gt;é€šçŸ¥ Producer åŠ Consumer
&lt;ul&gt;
&lt;li&gt;æ–°çš„ Broker å‡ºç¾&lt;/li&gt;
&lt;li&gt;Broker failure&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;ç•¶ Zookeeper ç™¼å‡ºé€šçŸ¥ï¼ŒConsumer åŠ Producer æ ¹æ“šé€šçŸ¥æ±ºå®šè¦ä½¿ç”¨å“ªä¸€å€‹ Broker&lt;/li&gt;
&lt;li&gt;
&lt;a href=&#34;https://zookeeper.apache.org/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;https://zookeeper.apache.org/&lt;/a&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;references&#34;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/abhioncbr/Kafka-Message-Server/wiki/Apache-of-Kafka-Architecture-(As-per-Apache-Kafka-0.8.0-Dcoumentation)&#34;&gt;https://github.com/abhioncbr/Kafka-Message-Server/wiki/Apache-of-Kafka-Architecture-(As-per-Apache-Kafka-0.8.0-Dcoumentation)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://medium.com/@poyu677/apache-kafka-%E7%B0%A1%E6%98%93%E5%85%A5%E9%96%80-db58898a3fab&#34;&gt;https://medium.com/@poyu677/apache-kafka-ç°¡æ˜“å…¥é–€-db58898a3fab&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://cloudurable.com/blog/kafka-architecture-topics/index.html&#34;&gt;http://cloudurable.com/blog/kafka-architecture-topics/index.html&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
    <item>
      <title></title>
      <link>https://goatwu1993.github.io/blog/posts/apache-kafka/readme/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>https://goatwu1993.github.io/blog/posts/apache-kafka/readme/</guid>
      <description>&lt;h1 id=&#34;welcome-to-blog_kafka-&#34;&gt;Welcome to blog_kafka ğŸ‘‹&lt;/h1&gt;
&lt;h2 id=&#34;author&#34;&gt;Author&lt;/h2&gt;
&lt;p&gt;ğŸ‘¤ &lt;strong&gt;goatwu1993&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id=&#34;show-your-support&#34;&gt;Show your support&lt;/h2&gt;
&lt;p&gt;Give a â­ï¸ if this project helped you!&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;em&gt;This README was generated with â¤ï¸ by 
&lt;a href=&#34;https://github.com/kefranabg/readme-md-generator&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;readme-md-generator&lt;/a&gt;
&lt;/em&gt;&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>
